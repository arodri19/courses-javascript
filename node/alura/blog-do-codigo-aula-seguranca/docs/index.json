[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/controleDeAcesso.js",
    "content": "const AccessControl = require('accesscontrol')\r\nconst controle = new AccessControl()\r\n\r\ncontrole\r\n    .grant('assinante')\r\n    .readAny('post', ['id','titulo','conteudo','autor'])\r\n\r\ncontrole\r\n    .grant('editor')\r\n    .extend('assinante')\r\n    .createOwn('post')\r\n    .deleteOwn('post')\r\n\r\ncontrole\r\n    .grant('admin')\r\n    .createAny('post')\r\n    .deleteAny('post')\r\n    .readAny('usuario')\r\n    .deleteAny('usuario')\r\n    \r\n\r\nmodule.exports = controle",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/controleDeAcesso.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "AccessControl",
    "memberof": "src/controleDeAcesso.js",
    "static": true,
    "longname": "src/controleDeAcesso.js~AccessControl",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/controleDeAcesso.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 50,
    "kind": "variable",
    "name": "controle",
    "memberof": "src/controleDeAcesso.js",
    "static": true,
    "longname": "src/controleDeAcesso.js~controle",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/controleDeAcesso.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 51,
    "kind": "file",
    "name": "src/conversores.js",
    "content": "class Conversor{\r\n    converter(Dados){\r\n        if(this.camposPublicos.indexOf('*') === -1){\r\n            dados = this.filtrar(dados)\r\n        }\r\n\r\n        if(this.tipoDeConteudo === 'json'){\r\n            return this.json(Dados)\r\n        }\r\n    }\r\n\r\n    json(dados){\r\n        return JSON.stringify(dados)\r\n    }\r\n\r\n    filtrar(dados){\r\n        if(Array.isArray(dados)){\r\n            dados = dados.map((post) => this.filtrarObjeto(post))\r\n        }else{\r\n            dados = this.filtrarObjeto(dados)\r\n        }\r\n    }\r\n    filtrarObjeto(objeto){\r\n        const objetoFiltrado = {}\r\n\r\n        this.camposPublicos.forEach((campo) =>{\r\n            if(Reflect.has(objeto, campo)){\r\n                objetoFiltrado[campo] = objeto[campo]\r\n            }\r\n        })\r\n\r\n        return objetoFiltrado\r\n    }\r\n}\r\n\r\nclass ConversorPost extends Conversor{\r\n    constructor(tipoDeConteudo, camposExtras = []){\r\n        super()\r\n        this.tipoDeConteudo = tipoDeConteudo\r\n        this.camposPublicos = ['titulo','conteudo'].concat(camposExtras)\r\n    }\r\n    \r\n\r\n}\r\n\r\nclass ConversorUsuario extends Conversor{\r\n    constructor(tipoDeConteudo, camposExtras = []){\r\n        super()\r\n        this.tipoDeConteudo = tipoDeConteudo\r\n        this.camposPublicos = ['nome'].concat(camposExtras)\r\n    }\r\n}\r\n\r\nmodule.exports = {ConversorPost, ConversorUsuario}",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/conversores.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 52,
    "kind": "class",
    "name": "Conversor",
    "memberof": "src/conversores.js",
    "static": true,
    "longname": "src/conversores.js~Conversor",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/conversores.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false,
    "ignore": true
  },
  {
    "__docId__": 53,
    "kind": "method",
    "name": "converter",
    "memberof": "src/conversores.js~Conversor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/conversores.js~Conversor#converter",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "params": [
      {
        "name": "Dados",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 54,
    "kind": "method",
    "name": "json",
    "memberof": "src/conversores.js~Conversor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/conversores.js~Conversor#json",
    "access": "public",
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "params": [
      {
        "name": "dados",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 55,
    "kind": "method",
    "name": "filtrar",
    "memberof": "src/conversores.js~Conversor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/conversores.js~Conversor#filtrar",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "params": [
      {
        "name": "dados",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 56,
    "kind": "method",
    "name": "filtrarObjeto",
    "memberof": "src/conversores.js~Conversor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/conversores.js~Conversor#filtrarObjeto",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "params": [
      {
        "name": "objeto",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 57,
    "kind": "class",
    "name": "ConversorPost",
    "memberof": "src/conversores.js",
    "static": true,
    "longname": "src/conversores.js~ConversorPost",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/conversores.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "interface": false,
    "extends": [
      "Conversor"
    ],
    "ignore": true
  },
  {
    "__docId__": 58,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/conversores.js~ConversorPost",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/conversores.js~ConversorPost#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 59,
    "kind": "member",
    "name": "tipoDeConteudo",
    "memberof": "src/conversores.js~ConversorPost",
    "static": false,
    "longname": "src/conversores.js~ConversorPost#tipoDeConteudo",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 60,
    "kind": "member",
    "name": "camposPublicos",
    "memberof": "src/conversores.js~ConversorPost",
    "static": false,
    "longname": "src/conversores.js~ConversorPost#camposPublicos",
    "access": "public",
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 61,
    "kind": "class",
    "name": "ConversorUsuario",
    "memberof": "src/conversores.js",
    "static": true,
    "longname": "src/conversores.js~ConversorUsuario",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/conversores.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "interface": false,
    "extends": [
      "Conversor"
    ],
    "ignore": true
  },
  {
    "__docId__": 62,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/conversores.js~ConversorUsuario",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/conversores.js~ConversorUsuario#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 63,
    "kind": "member",
    "name": "tipoDeConteudo",
    "memberof": "src/conversores.js~ConversorUsuario",
    "static": false,
    "longname": "src/conversores.js~ConversorUsuario#tipoDeConteudo",
    "access": "public",
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 64,
    "kind": "member",
    "name": "camposPublicos",
    "memberof": "src/conversores.js~ConversorUsuario",
    "static": false,
    "longname": "src/conversores.js~ConversorUsuario#camposPublicos",
    "access": "public",
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 65,
    "kind": "file",
    "name": "src/erros.js",
    "content": "class InvalidArgumentError extends Error {\n  constructor(mensagem) {\n    super(mensagem);\n    this.name = 'InvalidArgumentError';\n  }\n}\n\nclass InternalServerError extends Error {\n  constructor(mensagem) {\n    super(mensagem);\n    this.name = 'InternalServerError';\n  }\n}\n\nclass NaoEncontrado extends Error{\n  constructor(entidade){\n    const mensagem = `Não foi possível encontrar ${entidade}`\n    super(mensagem)\n    this.name = 'NaoEncontrado'\n  }\n}\n\nclass NaoAutorizado extends Error{\n  constructor(){\n    const mensagem = `Não foi possível acessar esse recurso`\n    super(mensagem)\n    this.name = 'NaoAutorizado'\n  }\n}\n\nmodule.exports = {\n  InvalidArgumentError: InvalidArgumentError,\n  InternalServerError: InternalServerError,\n  NaoEncontrado: NaoEncontrado,\n  NaoAutorizado:NaoAutorizado\n};\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/erros.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 66,
    "kind": "class",
    "name": "InvalidArgumentError",
    "memberof": "src/erros.js",
    "static": true,
    "longname": "src/erros.js~InvalidArgumentError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/erros.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false,
    "extends": [
      "Error"
    ],
    "ignore": true
  },
  {
    "__docId__": 67,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/erros.js~InvalidArgumentError",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/erros.js~InvalidArgumentError#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 68,
    "kind": "member",
    "name": "name",
    "memberof": "src/erros.js~InvalidArgumentError",
    "static": false,
    "longname": "src/erros.js~InvalidArgumentError#name",
    "access": "public",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 69,
    "kind": "class",
    "name": "InternalServerError",
    "memberof": "src/erros.js",
    "static": true,
    "longname": "src/erros.js~InternalServerError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/erros.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "interface": false,
    "extends": [
      "Error"
    ],
    "ignore": true
  },
  {
    "__docId__": 70,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/erros.js~InternalServerError",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/erros.js~InternalServerError#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 71,
    "kind": "member",
    "name": "name",
    "memberof": "src/erros.js~InternalServerError",
    "static": false,
    "longname": "src/erros.js~InternalServerError#name",
    "access": "public",
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 72,
    "kind": "class",
    "name": "NaoEncontrado",
    "memberof": "src/erros.js",
    "static": true,
    "longname": "src/erros.js~NaoEncontrado",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/erros.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "interface": false,
    "extends": [
      "Error"
    ],
    "ignore": true
  },
  {
    "__docId__": 73,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/erros.js~NaoEncontrado",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/erros.js~NaoEncontrado#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 74,
    "kind": "member",
    "name": "name",
    "memberof": "src/erros.js~NaoEncontrado",
    "static": false,
    "longname": "src/erros.js~NaoEncontrado#name",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 75,
    "kind": "class",
    "name": "NaoAutorizado",
    "memberof": "src/erros.js",
    "static": true,
    "longname": "src/erros.js~NaoAutorizado",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/erros.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "interface": false,
    "extends": [
      "Error"
    ],
    "ignore": true
  },
  {
    "__docId__": 76,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/erros.js~NaoAutorizado",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/erros.js~NaoAutorizado#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 77,
    "kind": "member",
    "name": "name",
    "memberof": "src/erros.js~NaoAutorizado",
    "static": false,
    "longname": "src/erros.js~NaoAutorizado#name",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 78,
    "kind": "file",
    "name": "src/middlewares/autorizacao.js",
    "content": "const controle = require('../controleDeAcesso')\r\n\r\nconst metodos = {\r\n    ler:{\r\n        todos: 'readAny',\r\n        apenasSeu:'readOwn'\r\n    },\r\n    criar: {\r\n        todos: 'createAny',\r\n        apenasSeu: 'createOwn'\r\n    },\r\n    remover: {\r\n        todos: 'deleteAny',\r\n        apenasSeu: 'deleteOwn'\r\n    }\r\n}\r\nmodule.exports = (entidade, acao) => (req,res,proximo) =>{\r\n\r\n    const permissoesDoCargo = controle.can(req.user.cargo)\r\n    const acoes = metodos[acao]\r\n    const permissaoTodos = permissoesDoCargo[acoes.todos](entidade)\r\n    const permissaoApenasSeu = permissoesDoCargo[acoes.apenasSeu](entidade)\r\n\r\n    if(!permissaoTodos.granted && !permissaoApenasSeu.granted){\r\n        res.status(403).end()\r\n        return\r\n    }\r\n\r\n    req.acesso = {\r\n        todos: {\r\n            permitido: permissaoTodos.granted,\r\n            atributos: permissaoTodos.attributes\r\n        },\r\n        apenasSeu:{\r\n            permitido: permissaoApenasSeu.granted,\r\n            atributos: permissaoApenasSeu.attributes\r\n        }\r\n    }\r\n\r\n    proximo()\r\n}",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/middlewares/autorizacao.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 79,
    "kind": "variable",
    "name": "controle",
    "memberof": "src/middlewares/autorizacao.js",
    "static": true,
    "longname": "src/middlewares/autorizacao.js~controle",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/middlewares/autorizacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 80,
    "kind": "variable",
    "name": "metodos",
    "memberof": "src/middlewares/autorizacao.js",
    "static": true,
    "longname": "src/middlewares/autorizacao.js~metodos",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/middlewares/autorizacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "{\"ler\": *, \"criar\": *, \"remover\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 81,
    "kind": "file",
    "name": "src/middlewares/tentarAutenticar.js",
    "content": "const {middlewaresAutenticacao} = require('../usuarios')\r\nmodule.exports = (req, res, proximo) =>{\r\n    if(req.get('Authorization')){\r\n        req.estaAutenticado = false\r\n        return middlewaresAutenticacao.bearer(req, res, proximo)\r\n    }\r\n\r\n    proximo()\r\n}",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/middlewares/tentarAutenticar.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 82,
    "kind": "variable",
    "name": "middlewaresAutenticacao",
    "memberof": "src/middlewares/tentarAutenticar.js",
    "static": true,
    "longname": "src/middlewares/tentarAutenticar.js~middlewaresAutenticacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/middlewares/tentarAutenticar.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 83,
    "kind": "file",
    "name": "src/middlewares/tentarAutorizar.js",
    "content": "const autorizacao = require('./autorizacao')\r\n\r\nmodule.exports = (entidade, acao) => (req,res,proximo) =>{\r\n    if(req.estaAutenticado === true){\r\n        return autorizacao(entidade,acao)(req, res, proximo)\r\n    }\r\n\r\n    proximo()\r\n}",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/middlewares/tentarAutorizar.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 84,
    "kind": "variable",
    "name": "autorizacao",
    "memberof": "src/middlewares/tentarAutorizar.js",
    "static": true,
    "longname": "src/middlewares/tentarAutorizar.js~autorizacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/middlewares/tentarAutorizar.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 85,
    "kind": "file",
    "name": "src/posts/index.js",
    "content": "module.exports = {\n  modelo: require('./posts-modelo'),\n  rotas: require('./posts-rotas'),\n  controlador: require('./posts-controlador')\n};\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/posts/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 86,
    "kind": "file",
    "name": "src/posts/posts-controlador.js",
    "content": "const Post = require('./posts-modelo');\r\nconst { InvalidArgumentError } = require('../erros');\r\nconst {ConversorPost} = require('../conversores')\r\n\r\nmodule.exports = {\r\n  async adiciona(req, res) {\r\n    try {\r\n      const post = new Post(req.body);\r\n      await post.adiciona();\r\n      \r\n      res.status(201).send(post);\r\n    } catch (erro) {\r\n      if (erro instanceof InvalidArgumentError) {\r\n        res.status(422).json({ erro: erro.message });\r\n      } else {\r\n        res.status(500).json({ erro: erro.message });\r\n      }\r\n    }\r\n  },\r\n\r\n  async lista (req, res) {\r\n    try {\r\n      const posts = await Post.listarTodos();\r\n      \r\n      const conversor = new ConversorPost('json',req.acesso.todos.permitido ? req.acesso.todos.atributos : req.acesso.apenasSeu.atributos)\r\n      if(req.estaAutenticado){\r\n        posts = posts.map(post => {\r\n          post.conteudo = post.conteudo.substr(0,10) + '... Você precisa assinar o blog para ler o restante do post'\r\n          return post\r\n        })\r\n      }\r\n      res.send(conversor.converter(posts));\r\n    } catch (erro) {\r\n      return res.status(500).json({ erro: erro });\r\n    }\r\n  },\r\n\r\n  async obterDetalhes (req, res) {\r\n    try {\r\n      const post = await Post.buscaPorId(req.params.id, req.user.id)\r\n      res.json(post)\r\n    } catch (erro) {\r\n      return res.status(500).json({ erro: erro.message })\r\n    }\r\n  },\r\n\r\n  async remover (req, res) {\r\n    try {\r\n      const post = await Post.buscaPorId(Number(req.params.id), req.user.id)\r\n      post.remover()\r\n      res.status(204)\r\n      res.end()\r\n    } catch (erro) {\r\n      return res.status(500).json({ erro: erro.message })\r\n    }\r\n  }\r\n};\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/posts/posts-controlador.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 87,
    "kind": "variable",
    "name": "Post",
    "memberof": "src/posts/posts-controlador.js",
    "static": true,
    "longname": "src/posts/posts-controlador.js~Post",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 88,
    "kind": "variable",
    "name": "InvalidArgumentError",
    "memberof": "src/posts/posts-controlador.js",
    "static": true,
    "longname": "src/posts/posts-controlador.js~InvalidArgumentError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 89,
    "kind": "variable",
    "name": "ConversorPost",
    "memberof": "src/posts/posts-controlador.js",
    "static": true,
    "longname": "src/posts/posts-controlador.js~ConversorPost",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 90,
    "kind": "file",
    "name": "src/posts/posts-dao.js",
    "content": "const db = require('../../database');\r\nconst { InternalServerError } = require('../erros')\r\nconst { promisify } = require('util');\r\nconst dbRun = promisify(db.run).bind(db);\r\nconst dbGet = promisify(db.get).bind(db);\r\nconst dbAll = promisify(db.all).bind(db);\r\n\r\nmodule.exports = {\r\n  async adiciona (post) {\r\n    try {\r\n      await dbRun('INSERT INTO posts (titulo, conteudo, autor) VALUES (?, ?, ?)', [\r\n        post.titulo,\r\n        post.conteudo,\r\n        post.autor\r\n      ])\r\n    } catch (erro) {\r\n      throw new InternalServerError('Erro ao adicionar o post!')\r\n    }\r\n  },\r\n\r\n  async listarPorAutor (idAutor) {\r\n    try {\r\n      return await dbAll('SELECT id, titulo FROM posts WHERE autor = ?', [idAutor])\r\n    } catch (erro) {\r\n      throw new InternalServerError('Erro ao listar os posts!')\r\n    }\r\n  },\r\n\r\n  async listarTodos () {\r\n    try {\r\n      return await dbAll('SELECT id, titulo, conteudo, autor FROM posts')\r\n    } catch (erro) {\r\n      throw new InternalServerError('Erro ao listar os posts!')\r\n    }\r\n  },\r\n\r\n  async buscaPorId (id, idAutor) {\r\n    try {\r\n      return await dbGet('SELECT * FROM posts WHERE id = ? AND autor = ?', [id, idAutor])\r\n    } catch (erro) {\r\n      throw new InternalServerError('Não foi possível encontrar o post!')\r\n    }\r\n  },\r\n\r\n  async remover ({ id, autor }) {\r\n    try {\r\n      return await dbRun('DELETE FROM posts WHERE id = ? AND autor = ?', [id, autor])\r\n    } catch (erro) {\r\n      throw new InternalServerError('Erro ao tentar remover o post!')\r\n    }\r\n  }\r\n};\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/posts/posts-dao.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 91,
    "kind": "variable",
    "name": "db",
    "memberof": "src/posts/posts-dao.js",
    "static": true,
    "longname": "src/posts/posts-dao.js~db",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 92,
    "kind": "variable",
    "name": "InternalServerError",
    "memberof": "src/posts/posts-dao.js",
    "static": true,
    "longname": "src/posts/posts-dao.js~InternalServerError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 93,
    "kind": "variable",
    "name": "promisify",
    "memberof": "src/posts/posts-dao.js",
    "static": true,
    "longname": "src/posts/posts-dao.js~promisify",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 94,
    "kind": "variable",
    "name": "dbRun",
    "memberof": "src/posts/posts-dao.js",
    "static": true,
    "longname": "src/posts/posts-dao.js~dbRun",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 95,
    "kind": "variable",
    "name": "dbGet",
    "memberof": "src/posts/posts-dao.js",
    "static": true,
    "longname": "src/posts/posts-dao.js~dbGet",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 96,
    "kind": "variable",
    "name": "dbAll",
    "memberof": "src/posts/posts-dao.js",
    "static": true,
    "longname": "src/posts/posts-dao.js~dbAll",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 97,
    "kind": "file",
    "name": "src/posts/posts-modelo.js",
    "content": "const postsDao = require('./posts-dao');\nconst validacoes = require('../validacoes-comuns');\n\nclass Post {\n  constructor (post) {\n    this.id = post.id\n    this.titulo = post.titulo\n    this.conteudo = post.conteudo\n    this.autor = post.autor\n    this.valida()\n  }\n\n  adiciona () {\n    return postsDao.adiciona(this)\n  }\n\n  static async buscaPorId (id, idAutor) {\n    const post = await postsDao.buscaPorId(id, idAutor)\n    if (!post) {\n      return null\n    }\n\n    return new Post(post)\n  }\n\n  valida () {\n    validacoes.campoStringNaoNulo(this.titulo, 'titulo')\n    validacoes.campoTamanhoMinimo(this.titulo, 'titulo', 5)\n\n    validacoes.campoStringNaoNulo(this.conteudo, 'conteudo')\n    validacoes.campoTamanhoMaximo(this.conteudo, 'conteudo', 140)\n  }\n\n  remover () {\n    return postsDao.remover(this)\n  }\n\n  static listarPorAutor (idAutor) {\n    return postsDao.listarPorAutor(idAutor)\n  }\n\n  static listarTodos () {\n    return postsDao.listarTodos()\n  }\n}\n\nmodule.exports = Post;\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/posts/posts-modelo.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 98,
    "kind": "variable",
    "name": "postsDao",
    "memberof": "src/posts/posts-modelo.js",
    "static": true,
    "longname": "src/posts/posts-modelo.js~postsDao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-modelo.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 99,
    "kind": "variable",
    "name": "validacoes",
    "memberof": "src/posts/posts-modelo.js",
    "static": true,
    "longname": "src/posts/posts-modelo.js~validacoes",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-modelo.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 100,
    "kind": "class",
    "name": "Post",
    "memberof": "src/posts/posts-modelo.js",
    "static": true,
    "longname": "src/posts/posts-modelo.js~Post",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-modelo.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "ignore": true
  },
  {
    "__docId__": 101,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/posts/posts-modelo.js~Post",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 102,
    "kind": "member",
    "name": "id",
    "memberof": "src/posts/posts-modelo.js~Post",
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#id",
    "access": "public",
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 103,
    "kind": "member",
    "name": "titulo",
    "memberof": "src/posts/posts-modelo.js~Post",
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#titulo",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 104,
    "kind": "member",
    "name": "conteudo",
    "memberof": "src/posts/posts-modelo.js~Post",
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#conteudo",
    "access": "public",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 105,
    "kind": "member",
    "name": "autor",
    "memberof": "src/posts/posts-modelo.js~Post",
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#autor",
    "access": "public",
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 106,
    "kind": "method",
    "name": "adiciona",
    "memberof": "src/posts/posts-modelo.js~Post",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#adiciona",
    "access": "public",
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 107,
    "kind": "method",
    "name": "buscaPorId",
    "memberof": "src/posts/posts-modelo.js~Post",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/posts/posts-modelo.js~Post.buscaPorId",
    "access": "public",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "idAutor",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 108,
    "kind": "method",
    "name": "valida",
    "memberof": "src/posts/posts-modelo.js~Post",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#valida",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 109,
    "kind": "method",
    "name": "remover",
    "memberof": "src/posts/posts-modelo.js~Post",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/posts/posts-modelo.js~Post#remover",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 110,
    "kind": "method",
    "name": "listarPorAutor",
    "memberof": "src/posts/posts-modelo.js~Post",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/posts/posts-modelo.js~Post.listarPorAutor",
    "access": "public",
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "params": [
      {
        "name": "idAutor",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 111,
    "kind": "method",
    "name": "listarTodos",
    "memberof": "src/posts/posts-modelo.js~Post",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/posts/posts-modelo.js~Post.listarTodos",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 112,
    "kind": "file",
    "name": "src/posts/posts-rotas.js",
    "content": "const postsControlador = require('./posts-controlador');\r\nconst {middlewaresAutenticacao} = require('../usuarios')\r\nconst autorizacao = require('../middlewares/autorizacao');\r\nconst tentarAutenticar = require('../middlewares/tentarAutenticar');\r\nconst tentarAutorizar = require('../middlewares/tentarAutorizar')\r\n\r\nmodule.exports = app => {\r\n  app\r\n    .route('/post')\r\n    .get(\r\n      [tentarAutenticar, tentarAutorizar('post','ler')],\r\n      postsControlador.lista\r\n    )\r\n    .post(\r\n      [ middlewaresAutenticacao.bearer, autorizacao('post','criar')],\r\n      postsControlador.adiciona\r\n    )\r\n\r\n  app.route('/post/:id')\r\n    .get(\r\n      [middlewaresAutenticacao.bearer, autorizacao('post','ler')],\r\n      postsControlador.obterDetalhes\r\n    )\r\n    .delete(\r\n      [middlewaresAutenticacao.bearer, middlewaresAutenticacao.local, autorizacao('post','remover')],\r\n      postsControlador.remover\r\n    )\r\n}\r\n\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/posts/posts-rotas.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 113,
    "kind": "variable",
    "name": "postsControlador",
    "memberof": "src/posts/posts-rotas.js",
    "static": true,
    "longname": "src/posts/posts-rotas.js~postsControlador",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 114,
    "kind": "variable",
    "name": "middlewaresAutenticacao",
    "memberof": "src/posts/posts-rotas.js",
    "static": true,
    "longname": "src/posts/posts-rotas.js~middlewaresAutenticacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 115,
    "kind": "variable",
    "name": "autorizacao",
    "memberof": "src/posts/posts-rotas.js",
    "static": true,
    "longname": "src/posts/posts-rotas.js~autorizacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 116,
    "kind": "variable",
    "name": "tentarAutenticar",
    "memberof": "src/posts/posts-rotas.js",
    "static": true,
    "longname": "src/posts/posts-rotas.js~tentarAutenticar",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 117,
    "kind": "variable",
    "name": "tentarAutorizar",
    "memberof": "src/posts/posts-rotas.js",
    "static": true,
    "longname": "src/posts/posts-rotas.js~tentarAutorizar",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/posts/posts-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 118,
    "kind": "file",
    "name": "src/usuarios/emails.js",
    "content": "const nodemailer = require('nodemailer');\r\n\r\nconst configuracaoEmailTeste = (contaTeste) => ({\r\n    host: 'smtp.ethereal.email',\r\n    auth: contaTeste,\r\n})\r\n\r\nconst configuracaoEmailProducao={\r\n    host: process.env.EMAIL_HOST,\r\n    auth: {\r\n        user: process.env.EMAIL_USUARIO,\r\n        pass: process.env.EMAIL_SENHA\r\n    },\r\n    secure: true\r\n}\r\n\r\nasync function criaConfiguracaoEmail() {\r\n    if (process.env.NODE_ENV === 'production') {\r\n        return configuracaoEmailProducao;\r\n    } else {\r\n        const contaTeste = await nodemailer.createTestAccount();\r\n        return configuracaoEmailTeste(contaTeste);\r\n    }\r\n}\r\n\r\nclass Email {\r\n    async enviaEmail() {\r\n        const configuracaoEmail = await criaConfiguracaoEmail()\r\n        const transportador = nodemailer.createTransport(configuracaoEmail);\r\n        const info = await transportador.sendMail(this)\r\n\r\n        if(process.env.NODE_ENV !== 'production'){\r\n            console.log('URL: ' + nodemailer.getTestMessageUrl(info))\r\n        }\r\n    }\r\n}\r\n\r\nclass EmailVerificacao extends Email {\r\n    constructor(usuario, endereco) {\r\n        super()\r\n        this.from = '\"Blog do Código\" <noreply@blogdocodigo.com.br>'\r\n        this.to = usuario.email\r\n        this.subject = 'Verificação de e-mail'\r\n        this.text = `Olá! Verifique seu e-mail aqui: ${endereco}`\r\n        this.html = `<h1>Olá!</h1> Verifique seu e-mail aqui: <a href=\"${endereco}\">${endereco}</a>`\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = { EmailVerificacao }",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/emails.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 119,
    "kind": "variable",
    "name": "nodemailer",
    "memberof": "src/usuarios/emails.js",
    "static": true,
    "longname": "src/usuarios/emails.js~nodemailer",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/emails.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 120,
    "kind": "function",
    "name": "configuracaoEmailTeste",
    "memberof": "src/usuarios/emails.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/emails.js~configuracaoEmailTeste",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/emails.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "contaTeste",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 121,
    "kind": "variable",
    "name": "configuracaoEmailProducao",
    "memberof": "src/usuarios/emails.js",
    "static": true,
    "longname": "src/usuarios/emails.js~configuracaoEmailProducao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/emails.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "{\"host\": *, \"auth\": *, \"secure\": boolean}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 122,
    "kind": "function",
    "name": "criaConfiguracaoEmail",
    "memberof": "src/usuarios/emails.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/emails.js~criaConfiguracaoEmail",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/emails.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 123,
    "kind": "class",
    "name": "Email",
    "memberof": "src/usuarios/emails.js",
    "static": true,
    "longname": "src/usuarios/emails.js~Email",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/emails.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "interface": false,
    "ignore": true
  },
  {
    "__docId__": 124,
    "kind": "method",
    "name": "enviaEmail",
    "memberof": "src/usuarios/emails.js~Email",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/usuarios/emails.js~Email#enviaEmail",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 125,
    "kind": "class",
    "name": "EmailVerificacao",
    "memberof": "src/usuarios/emails.js",
    "static": true,
    "longname": "src/usuarios/emails.js~EmailVerificacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/emails.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "interface": false,
    "extends": [
      "Email"
    ],
    "ignore": true
  },
  {
    "__docId__": 126,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/usuarios/emails.js~EmailVerificacao",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/usuarios/emails.js~EmailVerificacao#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 127,
    "kind": "member",
    "name": "from",
    "memberof": "src/usuarios/emails.js~EmailVerificacao",
    "static": false,
    "longname": "src/usuarios/emails.js~EmailVerificacao#from",
    "access": "public",
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 128,
    "kind": "member",
    "name": "to",
    "memberof": "src/usuarios/emails.js~EmailVerificacao",
    "static": false,
    "longname": "src/usuarios/emails.js~EmailVerificacao#to",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 129,
    "kind": "member",
    "name": "subject",
    "memberof": "src/usuarios/emails.js~EmailVerificacao",
    "static": false,
    "longname": "src/usuarios/emails.js~EmailVerificacao#subject",
    "access": "public",
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 130,
    "kind": "member",
    "name": "text",
    "memberof": "src/usuarios/emails.js~EmailVerificacao",
    "static": false,
    "longname": "src/usuarios/emails.js~EmailVerificacao#text",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 131,
    "kind": "member",
    "name": "html",
    "memberof": "src/usuarios/emails.js~EmailVerificacao",
    "static": false,
    "longname": "src/usuarios/emails.js~EmailVerificacao#html",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 132,
    "kind": "file",
    "name": "src/usuarios/estrategias-autenticacao.js",
    "content": "const passport = require('passport');\r\nconst LocalStrategy = require('passport-local').Strategy\r\nconst BearerStrategy = require('passport-http-bearer').Strategy\r\nconst bcrypt = require('bcrypt')\r\nconst tokens = require('./tokens')\r\n\r\n\r\n\r\nconst Usuario = require('./usuarios-modelo');\r\nconst { NaoAutorizado } = require('../erros')\r\n\r\nfunction verificaUsuario(usuario) {\r\n    if (!usuario) {\r\n        throw new NaoAutorizado();\r\n    }\r\n}\r\n\r\n\r\n\r\nasync function verificaSenha(senha, senhaHash) {\r\n    const senhaValida = await bcrypt.compare(senha, senhaHash)\r\n    if (!senhaValida) {\r\n        throw new NaoAutorizado()\r\n    }\r\n}\r\n\r\npassport.use(\r\n    new LocalStrategy({\r\n        usernameField: 'email',\r\n        passwordField: 'senha',\r\n        session: false\r\n    }, async (email, senha, done) => {\r\n\r\n        try {\r\n            const usuario = await Usuario.buscaPorEmail(email);\r\n            verificaUsuario(usuario);\r\n            await verificaSenha(senha, usuario.senhaHash);\r\n            done(null, usuario);\r\n\r\n        } catch (error) {\r\n            done(error);\r\n        }\r\n\r\n    })\r\n)\r\n\r\npassport.use(\r\n    new BearerStrategy(\r\n        async (token, done) => {\r\n            try {\r\n                const id = await tokens.access.verifica(token)\r\n                const usuario = await Usuario.buscaPorId(id);\r\n                done(null, usuario, {token: token});\r\n\r\n            } catch (error) {\r\n                done(error);\r\n            }\r\n        }\r\n    )\r\n)",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/estrategias-autenticacao.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 133,
    "kind": "variable",
    "name": "passport",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~passport",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 134,
    "kind": "variable",
    "name": "LocalStrategy",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~LocalStrategy",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 135,
    "kind": "variable",
    "name": "BearerStrategy",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~BearerStrategy",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 136,
    "kind": "variable",
    "name": "bcrypt",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~bcrypt",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 137,
    "kind": "variable",
    "name": "tokens",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~tokens",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 138,
    "kind": "variable",
    "name": "Usuario",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~Usuario",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 139,
    "kind": "variable",
    "name": "NaoAutorizado",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~NaoAutorizado",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 140,
    "kind": "function",
    "name": "verificaUsuario",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~verificaUsuario",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "params": [
      {
        "name": "usuario",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 141,
    "kind": "function",
    "name": "verificaSenha",
    "memberof": "src/usuarios/estrategias-autenticacao.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/estrategias-autenticacao.js~verificaSenha",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/estrategias-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "params": [
      {
        "name": "senha",
        "types": [
          "*"
        ]
      },
      {
        "name": "senhaHash",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 142,
    "kind": "file",
    "name": "src/usuarios/index.js",
    "content": "module.exports = {\r\n  rotas: require('./usuarios-rotas'),\r\n  controlador: require('./usuarios-controlador'),\r\n  modelo: require('./usuarios-modelo'),\r\n  estrategiasAutenticacao: require('./estrategias-autenticacao'),\r\n  middlewaresAutenticacao: require('./middlewares-autenticacao')\r\n}",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 143,
    "kind": "file",
    "name": "src/usuarios/middlewares-autenticacao.js",
    "content": "const passport = require('passport')\r\nconst Usuario = require('./usuarios-modelo')\r\n\r\nconst tokens = require(\"./tokens\")\r\n\r\nmodule.exports = {\r\n    local (req, res, next) {\r\n        passport.authenticate('local', { session: false }, (error, usuario, info) => {\r\n\r\n            if(error){\r\n                return next(error)\r\n            }\r\n\r\n            req.user = usuario;\r\n            req.estaAutenticado = true\r\n            return next()\r\n        })(req, res, next)\r\n    },\r\n    bearer (req, res, next) {\r\n        passport.authenticate(\r\n            'bearer',\r\n            { session: false },\r\n            (error, usuario, info) => {\r\n\r\n                if(error){\r\n                    return next(error)\r\n                }\r\n\r\n                req.token = info.token;\r\n\r\n                req.user = usuario;\r\n                req.estaAutenticado = true\r\n                return next()\r\n            }\r\n        )(req, res, next)\r\n    },\r\n    async refresh(req, res, next){\r\n        try {\r\n            const {refreshToken} = req.body;\r\n            const id = await tokens.refresh.verifica(refreshToken);\r\n            await tokens.refresh.invalida(refreshToken);\r\n            req.user = await Usuario.buscaPorId(id);\r\n            return next();\r\n            \r\n        } catch (error) {\r\n            return next(error)\r\n\r\n        }\r\n\r\n    },\r\n    async verificacaoEmail(req, res, next){\r\n        try {\r\n            const {token} = req.params;\r\n            const id = await tokens.verificacaoEmail.verifica(token)\r\n            const usuario = await Usuario.buscaPorId(id)\r\n            req.user = usuario;\r\n            next();\r\n        } catch (error) {\r\n            next(error)\r\n        }\r\n\r\n        \r\n    }\r\n}",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/middlewares-autenticacao.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 144,
    "kind": "variable",
    "name": "passport",
    "memberof": "src/usuarios/middlewares-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/middlewares-autenticacao.js~passport",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/middlewares-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 145,
    "kind": "variable",
    "name": "Usuario",
    "memberof": "src/usuarios/middlewares-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/middlewares-autenticacao.js~Usuario",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/middlewares-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 146,
    "kind": "variable",
    "name": "tokens",
    "memberof": "src/usuarios/middlewares-autenticacao.js",
    "static": true,
    "longname": "src/usuarios/middlewares-autenticacao.js~tokens",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/middlewares-autenticacao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 147,
    "kind": "file",
    "name": "src/usuarios/tokens.js",
    "content": "const jwt = require('jsonwebtoken')\r\nconst crypto = require('crypto')\r\nconst moment = require('moment')\r\nconst {InvalidArgumentError} = require('../erros')\r\nconst allowlistRefreshToken = require('../../redis/allowlist-refresh-token')\r\nconst blocklistAccessToken = require('../../redis/blocklist-access-token')\r\n\r\n\r\nfunction criaTokenJWT(id, [tempoQuantidade, tempoUnidade]) {\r\n    const payload = {\r\n        id: id\r\n    };\r\n\r\n    const token = jwt.sign(payload, process.env.CHAVE_JWT, { expiresIn: tempoQuantidade + tempoUnidade });\r\n    return token\r\n\r\n}\r\n\r\nasync function verificaTokenJWT(token,nome, blocklist) {\r\n    await verificaTokenNaBlocklist(token,nome, blocklist)\r\n    const {id} = jwt.verify(token, process.env.CHAVE_JWT);\r\n    return id\r\n}\r\n\r\nasync function verificaTokenNaBlocklist(token, nome, blocklist){\r\n    if(!blocklist){\r\n        return\r\n    }\r\n    const tokenNaBlocklistt = await blocklist.contemToken(token)\r\n    if (tokenNaBlocklistt){\r\n        throw new jwt.JsonWebTokenError(`${nome} inválido por logout!`);\r\n    }\r\n}\r\n\r\nfunction invalidaTokenJWT(token,blocklist){\r\n    blocklist.adiciona(token);\r\n}\r\n\r\nasync function criaTokenOpaco(id, [tempoQuantidade, tempoUnidade], allowlist) {\r\n    const tokenOpaco = crypto.randomBytes(24).toString('hex');\r\n    const dataExpiracao = moment().add(tempoQuantidade, tempoUnidade).unix();\r\n    await allowlist.adiciona(tokenOpaco, id, dataExpiracao)\r\n\r\n    return tokenOpaco\r\n}\r\n\r\nasync function verificaTokenOpaco(token, nome, allowlist){\r\n    verificaTokenEnviado(token, nome)\r\n    const id = await allowlist.buscaValor(token);\r\n    verificaTokenValido(id, nome)\r\n    return Number(id);\r\n}\r\n\r\n\r\nasync function invalidaTokenOpaco(token,allowlist){\r\n    await allowlist.deleta(token)\r\n}\r\n\r\n\r\nfunction verificaTokenValido(id, nome) {\r\n    if (!id) {\r\n        throw new InvalidArgumentError(`${nome} inválido`)\r\n    }\r\n}\r\n\r\nfunction verificaTokenEnviado(token, nome) {\r\n    if (!token) {\r\n        throw new InvalidArgumentError(`${nome} não enviado!`)\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    access: {\r\n        nome: 'access token',\r\n        lista: blocklistAccessToken,\r\n        expiracao: [15, 'm'],\r\n        cria(id) {\r\n            return criaTokenJWT(id, this.expiracao)\r\n        },\r\n        verifica(token) {\r\n            return verificaTokenJWT(token,this.nome,this.lista)\r\n        },\r\n        invalida(token){\r\n            return invalidaTokenJWT(token, this.lista)\r\n        }\r\n    },\r\n    refresh: {\r\n        nome: 'refresh token',\r\n        lista: allowlistRefreshToken,\r\n        expiracao: [5, 'd'],\r\n        cria(id) {\r\n            return criaTokenOpaco(id, this.expiracao, allowlistRefreshToken)\r\n        },\r\n        verifica(token) {\r\n            return verificaTokenOpaco(token,this.nome, this.lista)\r\n        },\r\n        invalida(token){\r\n            return invalidaTokenOpaco(token,this.lista)\r\n        }\r\n    },\r\n    verificacaoEmail:{\r\n        nome: 'token de verificação de e-mail',\r\n        expiracao: [1, 'h'],\r\n        cria(id){\r\n            return criaTokenJWT(id, this.expiracao)\r\n        },\r\n        verifica(token){\r\n            return verificaTokenJWT(token, this.nome);\r\n        }\r\n    }\r\n}",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/tokens.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 148,
    "kind": "variable",
    "name": "jwt",
    "memberof": "src/usuarios/tokens.js",
    "static": true,
    "longname": "src/usuarios/tokens.js~jwt",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 149,
    "kind": "variable",
    "name": "crypto",
    "memberof": "src/usuarios/tokens.js",
    "static": true,
    "longname": "src/usuarios/tokens.js~crypto",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 150,
    "kind": "variable",
    "name": "moment",
    "memberof": "src/usuarios/tokens.js",
    "static": true,
    "longname": "src/usuarios/tokens.js~moment",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 151,
    "kind": "variable",
    "name": "InvalidArgumentError",
    "memberof": "src/usuarios/tokens.js",
    "static": true,
    "longname": "src/usuarios/tokens.js~InvalidArgumentError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 152,
    "kind": "variable",
    "name": "allowlistRefreshToken",
    "memberof": "src/usuarios/tokens.js",
    "static": true,
    "longname": "src/usuarios/tokens.js~allowlistRefreshToken",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 153,
    "kind": "variable",
    "name": "blocklistAccessToken",
    "memberof": "src/usuarios/tokens.js",
    "static": true,
    "longname": "src/usuarios/tokens.js~blocklistAccessToken",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 154,
    "kind": "function",
    "name": "criaTokenJWT",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/tokens.js~criaTokenJWT",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "arrayPattern1",
        "types": [
          "*[]"
        ],
        "defaultRaw": [
          "null",
          "null"
        ],
        "defaultValue": "[null, null]"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 155,
    "kind": "function",
    "name": "verificaTokenJWT",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/tokens.js~verificaTokenJWT",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "params": [
      {
        "name": "token",
        "types": [
          "*"
        ]
      },
      {
        "name": "nome",
        "types": [
          "*"
        ]
      },
      {
        "name": "blocklist",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 156,
    "kind": "function",
    "name": "verificaTokenNaBlocklist",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/tokens.js~verificaTokenNaBlocklist",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "params": [
      {
        "name": "token",
        "types": [
          "*"
        ]
      },
      {
        "name": "nome",
        "types": [
          "*"
        ]
      },
      {
        "name": "blocklist",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 157,
    "kind": "function",
    "name": "invalidaTokenJWT",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/tokens.js~invalidaTokenJWT",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "params": [
      {
        "name": "token",
        "types": [
          "*"
        ]
      },
      {
        "name": "blocklist",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 158,
    "kind": "function",
    "name": "criaTokenOpaco",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/tokens.js~criaTokenOpaco",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "arrayPattern1",
        "types": [
          "*[]"
        ],
        "defaultRaw": [
          "null",
          "null"
        ],
        "defaultValue": "[null, null]"
      },
      {
        "name": "allowlist",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 159,
    "kind": "function",
    "name": "verificaTokenOpaco",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/tokens.js~verificaTokenOpaco",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "params": [
      {
        "name": "token",
        "types": [
          "*"
        ]
      },
      {
        "name": "nome",
        "types": [
          "*"
        ]
      },
      {
        "name": "allowlist",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 160,
    "kind": "function",
    "name": "invalidaTokenOpaco",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/tokens.js~invalidaTokenOpaco",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 55,
    "undocument": true,
    "params": [
      {
        "name": "token",
        "types": [
          "*"
        ]
      },
      {
        "name": "allowlist",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 161,
    "kind": "function",
    "name": "verificaTokenValido",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/tokens.js~verificaTokenValido",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "nome",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 162,
    "kind": "function",
    "name": "verificaTokenEnviado",
    "memberof": "src/usuarios/tokens.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/tokens.js~verificaTokenEnviado",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/tokens.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 66,
    "undocument": true,
    "params": [
      {
        "name": "token",
        "types": [
          "*"
        ]
      },
      {
        "name": "nome",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 163,
    "kind": "file",
    "name": "src/usuarios/usuarios-controlador.js",
    "content": "const Usuario = require('./usuarios-modelo');\r\n\r\nconst tokens = require('./tokens')\r\nconst {EmailVerificacao} = require('./emails')\r\n\r\nconst {ConversorUsuario} = require('../conversores')\r\n\r\nfunction geraEndereco(rota, token){\r\n  const baseURL = process.env.BASE_URL\r\n  return `${baseURL}${rota}${token}`\r\n}\r\n\r\n\r\nmodule.exports = {\r\n  async adiciona(req, res, proximo) {\r\n    const { nome, email, senha, cargo } = req.body;\r\n\r\n    try {\r\n      const usuario = new Usuario({\r\n        nome,\r\n        email,\r\n        emailVerificado: false,\r\n        cargo\r\n      });\r\n\r\n      await usuario.adicionaSenha(senha);\r\n      await usuario.adiciona();\r\n\r\n      const token = tokens.verificacaoEmail.cria(usuario.id);\r\n      const endereco = geraEndereco('/usuario/verifica_email/',token)\r\n      const emailVerificacao = new EmailVerificacao(usuario, endereco);\r\n      emailVerificacao.enviaEmail().catch(console.log)\r\n\r\n      res.status(201).json();\r\n    } catch (erro) {\r\n\r\n      proximo(erro)\r\n\r\n    }\r\n  },\r\n\r\n  async login (req, res, proximo){\r\n\r\n    try {\r\n      const accessToken = tokens.access.cria(req.user.id);\r\n      const refreshToken = await tokens.refresh.cria(req.user.id);\r\n      res.set('Authorization', accessToken);\r\n      res.status(200).send({refreshToken});\r\n    } catch (error) {\r\n      proximo(erro)\r\n    }\r\n\r\n  },\r\n\r\n  async logout(req, res, proximo) {\r\n    try {\r\n      const token = req.token;\r\n      await tokens.access.invalida(token);\r\n      res.status(204).send();\r\n    } catch (erro) {\r\n      proximo(erro)\r\n    }\r\n  },\r\n\r\n  async lista(req, res, proximo) {\r\n    try {\r\n      const usuarios = await Usuario.lista();\r\n      const conversor = new ConversorUsuario(\r\n        'json',\r\n        req.acesso.todos.permitido ? req.acesso.todos.atributos : req.acesso.apenasSeu.atributos\r\n      )\r\n      res.send(conversor.converter(usuarios));\r\n    } catch (error) {\r\n      proximo()\r\n    }\r\n  },\r\n\r\n  async verificaEmail(req, res, proximo){\r\n    try {\r\n      const usuario = req.user\r\n      await usuario.verificaEmail()\r\n      res.status(200).json()\r\n    } catch (error) {\r\n      proximo(erro)\r\n    }\r\n  },\r\n\r\n  async deleta(req, res, proximo) {\r\n    const usuario = await Usuario.buscaPorId(req.params.id);\r\n    try {\r\n      await usuario.deleta();\r\n      res.status(200).send();\r\n    } catch (erro) {\r\n      proximo(erro)\r\n    }\r\n  }\r\n};\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/usuarios-controlador.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 164,
    "kind": "variable",
    "name": "Usuario",
    "memberof": "src/usuarios/usuarios-controlador.js",
    "static": true,
    "longname": "src/usuarios/usuarios-controlador.js~Usuario",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 165,
    "kind": "variable",
    "name": "tokens",
    "memberof": "src/usuarios/usuarios-controlador.js",
    "static": true,
    "longname": "src/usuarios/usuarios-controlador.js~tokens",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 166,
    "kind": "variable",
    "name": "EmailVerificacao",
    "memberof": "src/usuarios/usuarios-controlador.js",
    "static": true,
    "longname": "src/usuarios/usuarios-controlador.js~EmailVerificacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 167,
    "kind": "variable",
    "name": "ConversorUsuario",
    "memberof": "src/usuarios/usuarios-controlador.js",
    "static": true,
    "longname": "src/usuarios/usuarios-controlador.js~ConversorUsuario",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 168,
    "kind": "function",
    "name": "geraEndereco",
    "memberof": "src/usuarios/usuarios-controlador.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/usuarios-controlador.js~geraEndereco",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-controlador.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "rota",
        "types": [
          "*"
        ]
      },
      {
        "name": "token",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 169,
    "kind": "file",
    "name": "src/usuarios/usuarios-dao.js",
    "content": "const db = require('../../database');\r\nconst { InternalServerError } = require('../erros');\r\n\r\nconst {promisify} = require('util');\r\nconst dbRun = promisify(db.run).bind(db)\r\nconst dbGet = promisify(db.get).bind(db)\r\nconst dbAll = promisify(db.all).bind(db)\r\n\r\nmodule.exports = {\r\n  async adiciona(usuario) {\r\n    try {\r\n      await dbRun(\r\n        `INSERT INTO usuarios (nome, email, senhaHash, emailVerificado, cargo) \r\n        VALUES (?, ?, ?, ?,?)`,\r\n        [usuario.nome, usuario.email, usuario.senhaHash, usuario.emailVerificado, usuario.cargo]\r\n      );\r\n    } catch (erro) {\r\n      throw new InternalServerError('Erro ao adicionar o usuário!');\r\n    }\r\n  },\r\n\r\n  async buscaPorId(id) {\r\n    try {\r\n      return await dbGet(`SELECT * FROM usuarios WHERE id = ?`, [id]);\r\n    } catch (erro) {\r\n      throw new InternalServerError('Não foi possível encontrar o usuário!');\r\n    }\r\n  },\r\n\r\n  async buscaPorEmail(email) {\r\n    try {\r\n      return await dbGet(`SELECT * FROM usuarios WHERE email = ?`, [email]);\r\n    } catch (erro) {\r\n      throw new InternalServerError('Não foi possível encontrar o usuário!');\r\n    }\r\n  },\r\n\r\n  async lista() {\r\n    try {\r\n      return await dbAll(`SELECT * FROM usuarios`);\r\n    } catch (erro) {\r\n      throw new InternalServerError('Erro ao listar usuários!');\r\n    }\r\n  },\r\n\r\n  async modificaEmailVerificado(usuario, emailVerificado){\r\n    try {\r\n      await dbRun(`UPDATE usuarios SET emailVerificado = ? where id = ?`,\r\n      [emailVerificado, usuario.id]\r\n      )\r\n    } catch (error) {\r\n      throw new InternalServerError('Erro ao modificar a verificação de e-mail')\r\n    }\r\n  },\r\n\r\n  async deleta(usuario) {\r\n    try {\r\n      await dbRun(`DELETE FROM usuarios WHERE id = ?`, [usuario.id]);\r\n    } catch (erro) {\r\n      throw new InternalServerError('Erro ao deletar o usuário');\r\n    }\r\n  },\r\n};\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/usuarios-dao.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 170,
    "kind": "variable",
    "name": "db",
    "memberof": "src/usuarios/usuarios-dao.js",
    "static": true,
    "longname": "src/usuarios/usuarios-dao.js~db",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 171,
    "kind": "variable",
    "name": "InternalServerError",
    "memberof": "src/usuarios/usuarios-dao.js",
    "static": true,
    "longname": "src/usuarios/usuarios-dao.js~InternalServerError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 172,
    "kind": "variable",
    "name": "promisify",
    "memberof": "src/usuarios/usuarios-dao.js",
    "static": true,
    "longname": "src/usuarios/usuarios-dao.js~promisify",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 173,
    "kind": "variable",
    "name": "dbRun",
    "memberof": "src/usuarios/usuarios-dao.js",
    "static": true,
    "longname": "src/usuarios/usuarios-dao.js~dbRun",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 174,
    "kind": "variable",
    "name": "dbGet",
    "memberof": "src/usuarios/usuarios-dao.js",
    "static": true,
    "longname": "src/usuarios/usuarios-dao.js~dbGet",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 175,
    "kind": "variable",
    "name": "dbAll",
    "memberof": "src/usuarios/usuarios-dao.js",
    "static": true,
    "longname": "src/usuarios/usuarios-dao.js~dbAll",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-dao.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 176,
    "kind": "file",
    "name": "src/usuarios/usuarios-modelo.js",
    "content": "const usuariosDao = require('./usuarios-dao');\r\nconst { InvalidArgumentError,NaoEncontrado } = require('../erros');\r\nconst validacoes = require('../validacoes-comuns');\r\nconst bcrypt = require('bcrypt');\r\n\r\n/**\r\n * A classe Usuario é responsável por gerenciar todas as operações relacionadas a usuários\r\n */\r\n\r\nclass Usuario {\r\n\r\n  /**\r\n   * O contrutor recebe os dados de um usuário e os atribui a instancia atual\r\n   * @param {object} usuario \r\n   */\r\n\r\n  constructor(usuario) {\r\n    this.id = usuario.id;\r\n    this.nome = usuario.nome;\r\n    this.email = usuario.email;\r\n    this.senhaHash = usuario.senhaHash;\r\n    this.emailVerificado = usuario.emailVerificado\r\n    this.cargo = usuario.cargo\r\n\r\n    this.valida();\r\n  }\r\n\r\n  /**\r\n   * @throws {InvalidArgumentError} - Esse erro ocorre quando um usuário com o mesmo email já está cadastrado\r\n   */\r\n  \r\n  async adiciona() {\r\n    if (await usuariosDao.buscaPorEmail(this.email)) {\r\n      throw new InvalidArgumentError('O usuário já existe!');\r\n    }\r\n\r\n    usuariosDao.adiciona(this);\r\n    const {id} = await usuariosDao.buscaPorEmail(this.email)\r\n    this.id = id\r\n  }\r\n\r\n  async adicionaSenha(senha) {\r\n    validacoes.campoStringNaoNulo(senha, 'senha');\r\n    validacoes.campoTamanhoMinimo(senha, 'senha', 8);\r\n    validacoes.campoTamanhoMaximo(senha, 'senha', 64);\r\n\r\n    this.senhaHash = await Usuario.gerarSenhaHash(senha);\r\n  }\r\n\r\n  valida() {\r\n    validacoes.campoStringNaoNulo(this.nome, 'nome');\r\n    validacoes.campoStringNaoNulo(this.email, 'email');\r\n    validacoes.campoStringNaoNulo(this.cargo, 'cargo');\r\n    const cargosValidos = ['admin','editor','assinante']\r\n\r\n    if(cargosValidos.indexOf(this.cargo) === -1){\r\n      throw InvalidArgumentError(`O campo cargo está invalido`)\r\n    }\r\n  }\r\n\r\n  async verificaEmail(){\r\n    this.emailVerificado = true;\r\n    await usuariosDao.modificaEmailVerificado(this,this.emailVerificado)\r\n  }\r\n\r\n  async deleta() {\r\n    return usuariosDao.deleta(this);\r\n  }\r\n\r\n  static async buscaPorId(id) {\r\n    const usuario = await usuariosDao.buscaPorId(id);\r\n    if (!usuario) {\r\n      throw new NaoEncontrado('usuario')\r\n    }\r\n\r\n    return new Usuario(usuario);\r\n  }\r\n\r\n  static async buscaPorEmail(email) {\r\n    const usuario = await usuariosDao.buscaPorEmail(email);\r\n    if (!usuario) {\r\n      throw new NaoEncontrado('usuario')\r\n    }\r\n\r\n    return new Usuario(usuario);\r\n  }\r\n\r\n  static lista() {\r\n    return usuariosDao.lista();\r\n  }\r\n\r\n  static gerarSenhaHash(senha) {\r\n    const custoHash = 12;\r\n    return bcrypt.hash(senha, custoHash);\r\n  }\r\n}\r\n\r\nmodule.exports = Usuario;\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/usuarios-modelo.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 177,
    "kind": "variable",
    "name": "usuariosDao",
    "memberof": "src/usuarios/usuarios-modelo.js",
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~usuariosDao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-modelo.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 178,
    "kind": "variable",
    "name": "InvalidArgumentError",
    "memberof": "src/usuarios/usuarios-modelo.js",
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~InvalidArgumentError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-modelo.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 179,
    "kind": "variable",
    "name": "validacoes",
    "memberof": "src/usuarios/usuarios-modelo.js",
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~validacoes",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-modelo.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 180,
    "kind": "variable",
    "name": "bcrypt",
    "memberof": "src/usuarios/usuarios-modelo.js",
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~bcrypt",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-modelo.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 181,
    "kind": "class",
    "name": "Usuario",
    "memberof": "src/usuarios/usuarios-modelo.js",
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-modelo.js",
    "importStyle": null,
    "description": "A classe Usuario é responsável por gerenciar todas as operações relacionadas a usuários",
    "lineNumber": 10,
    "interface": false
  },
  {
    "__docId__": 182,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#constructor",
    "access": "public",
    "description": "O contrutor recebe os dados de um usuário e os atribui a instancia atual",
    "lineNumber": 17,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "usuario",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 183,
    "kind": "member",
    "name": "id",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#id",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 184,
    "kind": "member",
    "name": "nome",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#nome",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 185,
    "kind": "member",
    "name": "email",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#email",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 186,
    "kind": "member",
    "name": "senhaHash",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#senhaHash",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 187,
    "kind": "member",
    "name": "emailVerificado",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#emailVerificado",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 188,
    "kind": "member",
    "name": "cargo",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#cargo",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 189,
    "kind": "method",
    "name": "adiciona",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#adiciona",
    "access": "public",
    "description": "",
    "lineNumber": 32,
    "throws": [
      {
        "types": [
          "InvalidArgumentError"
        ],
        "description": "Esse erro ocorre quando um usuário com o mesmo email já está cadastrado"
      }
    ],
    "params": [],
    "return": null
  },
  {
    "__docId__": 191,
    "kind": "method",
    "name": "adicionaSenha",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#adicionaSenha",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "params": [
      {
        "name": "senha",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 193,
    "kind": "method",
    "name": "valida",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#valida",
    "access": "public",
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 194,
    "kind": "method",
    "name": "verificaEmail",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#verificaEmail",
    "access": "public",
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 196,
    "kind": "method",
    "name": "deleta",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario#deleta",
    "access": "public",
    "description": null,
    "lineNumber": 66,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 197,
    "kind": "method",
    "name": "buscaPorId",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario.buscaPorId",
    "access": "public",
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 198,
    "kind": "method",
    "name": "buscaPorEmail",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario.buscaPorEmail",
    "access": "public",
    "description": null,
    "lineNumber": 79,
    "undocument": true,
    "params": [
      {
        "name": "email",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 199,
    "kind": "method",
    "name": "lista",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario.lista",
    "access": "public",
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 200,
    "kind": "method",
    "name": "gerarSenhaHash",
    "memberof": "src/usuarios/usuarios-modelo.js~Usuario",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/usuarios/usuarios-modelo.js~Usuario.gerarSenhaHash",
    "access": "public",
    "description": null,
    "lineNumber": 92,
    "undocument": true,
    "params": [
      {
        "name": "senha",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 201,
    "kind": "file",
    "name": "src/usuarios/usuarios-rotas.js",
    "content": "const usuariosControlador = require('./usuarios-controlador');\r\nconst middlewaresAutenticacao = require('./middlewares-autenticacao');\r\nconst autorizacao = require('../middlewares/autorizacao');\r\n\r\nmodule.exports = app => {\r\n  app.route('/usuario/atualiza_token').post(middlewaresAutenticacao.refresh, usuariosControlador.login)\r\n\r\n  app\r\n    .route('/usuario/login')\r\n    .post(\r\n      middlewaresAutenticacao.local,\r\n      usuariosControlador.login\r\n    );\r\n\r\n  app\r\n    .route('/usuario/logout')\r\n    .post(\r\n      [middlewaresAutenticacao.refresh, middlewaresAutenticacao.bearer],\r\n      usuariosControlador.logout\r\n    )\r\n\r\n  app\r\n    .route('/usuario')\r\n    .post(usuariosControlador.adiciona)\r\n    .get(\r\n      [middlewaresAutenticacao.bearer, autorizacao('usuario','ler')],\r\n      usuariosControlador.lista\r\n    );\r\n\r\n  app.route('/usuario/verifica_email/:token').get(middlewaresAutenticacao.verificacaoEmail, usuariosControlador.verificaEmail)\r\n\r\n  app.route('/usuario/:id').delete(\r\n    [middlewaresAutenticacao.bearer, middlewaresAutenticacao.local, autorizacao('usuario','remover')],\r\n    usuariosControlador.deleta);\r\n};\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/usuarios/usuarios-rotas.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 202,
    "kind": "variable",
    "name": "usuariosControlador",
    "memberof": "src/usuarios/usuarios-rotas.js",
    "static": true,
    "longname": "src/usuarios/usuarios-rotas.js~usuariosControlador",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 203,
    "kind": "variable",
    "name": "middlewaresAutenticacao",
    "memberof": "src/usuarios/usuarios-rotas.js",
    "static": true,
    "longname": "src/usuarios/usuarios-rotas.js~middlewaresAutenticacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 204,
    "kind": "variable",
    "name": "autorizacao",
    "memberof": "src/usuarios/usuarios-rotas.js",
    "static": true,
    "longname": "src/usuarios/usuarios-rotas.js~autorizacao",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/usuarios/usuarios-rotas.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 205,
    "kind": "file",
    "name": "src/validacoes-comuns.js",
    "content": "const { InvalidArgumentError } = require('./erros');\r\n\r\n\r\nmodule.exports = {\r\n  campoStringNaoNulo(valor, nome){\r\n    if (typeof valor !== 'string' || valor === 0)\r\n      throw new InvalidArgumentError(`É necessário preencher o campo ${nome}!`);\r\n  },\r\n\r\n  campoTamanhoMinimo(valor, nome, minimo){\r\n    if (valor.length < minimo)\r\n      throw new InvalidArgumentError(\r\n        `O campo ${nome} precisa ser maior que ${minimo} caracteres!`\r\n      );\r\n  },\r\n\r\n  campoTamanhoMaximo(valor, nome, maximo){\r\n    if (valor.length > maximo)\r\n      throw new InvalidArgumentError(\r\n        `O campo ${nome} precisa ser menor que ${maximo} caracteres!`\r\n      );\r\n  }\r\n};\r\n",
    "static": true,
    "longname": "D:/Projetos/Curso/Javascript/Node/projeto-alura-blog-do-codigo-aula-seguranca/src/validacoes-comuns.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 206,
    "kind": "variable",
    "name": "InvalidArgumentError",
    "memberof": "src/validacoes-comuns.js",
    "static": true,
    "longname": "src/validacoes-comuns.js~InvalidArgumentError",
    "access": "public",
    "export": false,
    "importPath": "blog-do-codigo/src/validacoes-comuns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "kind": "index",
    "content": "# Blog do código\n> Um blog simples em Node.js",
    "longname": "D:\\Projetos\\Curso\\Javascript\\Node\\projeto-alura-blog-do-codigo-aula-seguranca\\README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\r\n  \"name\": \"blog-do-codigo\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Um blog simples em Node.js\",\r\n  \"main\": \"server.js\",\r\n  \"scripts\": {\r\n    \"start\": \"nodemon --inspect server.js\",\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"license\": \"ISC\",\r\n  \"dependencies\": {\r\n    \"accesscontrol\": \"^2.2.1\",\r\n    \"bcrypt\": \"^5.0.1\",\r\n    \"body-parser\": \"^1.19.1\",\r\n    \"dotenv\": \"^10.0.0\",\r\n    \"esdoc\": \"^1.1.0\",\r\n    \"esdoc-standard-plugin\": \"^1.0.0\",\r\n    \"express\": \"^4.17.2\",\r\n    \"jsonwebtoken\": \"^8.5.1\",\r\n    \"moment\": \"^2.29.1\",\r\n    \"nodemailer\": \"^6.7.2\",\r\n    \"nodemon\": \"^2.0.15\",\r\n    \"passport\": \"^0.5.2\",\r\n    \"passport-http-bearer\": \"^1.0.1\",\r\n    \"passport-local\": \"^1.0.0\",\r\n    \"redis\": \"^4.0.1\",\r\n    \"sqlite3\": \"^5.0.2\"\r\n  }\r\n}\r\n",
    "longname": "D:\\Projetos\\Curso\\Javascript\\Node\\projeto-alura-blog-do-codigo-aula-seguranca\\package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]